<!DOCTYPE html>
<html>
<head>
    <title>Простой тест API</title>
</head>
<body>
    <h1>Тестирование JSON Server API</h1>
    
    <button onclick="testAPI()">Тест API</button>
    <div id="result"></div>
    
    <script>
    async function testAPI() {
        const resultDiv = document.getElementById('result');
        resultDiv.innerHTML = 'Тестируем...';
        
        try {
            // 1. Проверяем товары
            const productsResponse = await fetch('http://localhost:3000/products');
            const products = await productsResponse.json();
            
            // 2. Проверяем пользователей
            const usersResponse = await fetch('http://localhost:3000/users');
            const users = await usersResponse.json();
            
            // 3. Показываем результат
            resultDiv.innerHTML = `
                <h2>✅ Сервер работает!</h2>
                <p>Товаров: ${products.length}</p>
                <p>Пользователей: ${users.length}</p>
                <p>Перейдите на <a href="http://localhost:3000/api-docs">документацию API</a></p>
            `;
            
        } catch (error) {
            resultDiv.innerHTML = `
                <h2>❌ Ошибка!</h2>
                <p>${error.message}</p>
                <p>Убедитесь, что сервер запущен:</p>
                <pre>node server.js</pre>
            `;
        }
    }
    </script>
</body>
</html>